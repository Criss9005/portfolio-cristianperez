{"version":3,"file":"static/js/961.7fa8dd40.chunk.js","mappings":"mOACA,EAAkC,sCAAlC,EAAiF,6BAAjF,EAA4H,kC,SCIxHA,EAAe,GACfC,EAAQ,EAEG,SAASC,IACtBC,EAAAA,EAAAA,SAAAA,QAAAA,OAAAA,cACA,6NAEA,IAYIC,EACyCC,EAAAC,EACFC,EAAAC,EAd3CC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAClBG,GAAWC,EAAAA,EAAAA,OAEH,IAAVnB,IACFA,IACAD,EAAemB,GAOuB,MAArCnB,EAAaqB,MAAMC,KAAKC,YAAoBnB,EAAuC,QAA3BC,EAAqB,QAArBC,EAAGN,EAAaqB,aAAK,IAAAf,OAAA,EAAlBA,EAAoBgB,YAAI,IAAAjB,EAAAA,EAAI,KACnD,KAAnCL,EAAaqB,MAAMC,KAAKE,SAAiBpB,EAAwC,QAA5BG,EAAsB,QAAtBC,EAAIR,EAAaqB,aAAK,IAAAb,OAAA,EAAlBA,EAAoBc,YAAI,IAAAf,EAAAA,EAAI,WAQzF,IAAIkB,GAJcC,EAAAA,EAAAA,MAEDC,GA2BlB,OAvBCC,EAAAA,EAAAA,YAAU,WACRzB,EAAAA,EAAAA,IAAU,sCAAD0B,OAAuCJ,EAAO,+DACpDK,MAAK,SAAAC,GACJ,IAAMC,EAAOD,EAASC,KAEtBlB,EAASkB,GACTd,EAAUc,EAAKf,OACjB,IACCgB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EACd,IACFjC,EAAM,CACR,GAAG,CAACwB,KAYHY,EAAAA,EAAAA,MAAA,OAAKC,UAAYC,EAAuBC,SAAA,EACtCC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAIvC,EAAaoC,UACrBC,EAAAA,EAAAA,KAAA,UAAAD,SAAS,eAGVH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAcC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,OAAKG,IAAG,kCAAAf,OAAoChB,EAAMgC,aAAeC,IAAG,GAAAjB,OAAKhB,EAAMkC,MAAK,aACpFV,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAAD,SAAK3B,EAAMkC,SACXN,EAAAA,EAAAA,KAAA,MAAAD,SAAI,cACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAI3B,EAAMmC,YACVP,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,KAAAD,SAtBR,WACE,IAAIS,EAAQ,GAGZ,OAFAhC,EAAOiC,SAAQ,SAAAC,GAASF,EAAMG,KAAKD,EAAIE,KAAK,IAErCJ,EAAMK,KAAK,KACpB,CAiBYC,YAGTlB,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAoBC,SAAA,CAAC,yBAClCC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,OAAMH,SAAC,YAElBC,EAAAA,EAAAA,KAAA,MAAAD,UACCC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAG,UAASH,SAAC,kBAGvBC,EAAAA,EAAAA,KAACe,EAAAA,GAAM,MAGX,C","sources":["webpack://react-homework-template/./src/pages/MoviesDetails/MovieDetails.module.css?1850","pages/MoviesDetails/MoviesDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesContainer\":\"MovieDetails_moviesContainer__otw6Q\",\"divide\":\"MovieDetails_divide__R9zZj\",\"information\":\"MovieDetails_information__z39-h\"};","import React, { useEffect, useState } from 'react'\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport styles from './MovieDetails.module.css'\n\nlet prevLocation = []\nlet count = 0\n\nexport default function MoviesDetails() {\n  axios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDU3YzgxMzRhZjE3MWM3YTk3NjA3Mjk2MWUyOWY1MSIsInN1YiI6IjY1NzNhZGNmZDQwMGYzMDBjOTIwOTJhMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Q1IdNqN9HcQoVWvkk0GsmzK0OberDk5bdp3RCC_tmBE';\n  \n  const [movie, setMovie] = useState([])\n  const [genres, setGenres] = useState([])\n  const location = useLocation();\n \n  if (count === 0) { \n    count++;\n    prevLocation = location\n    //console.log('locacion previa', prevLocation)\n  }\n  \n\n\n  let backLinkHref\n if (prevLocation.state.from.pathname === '/') { backLinkHref = prevLocation.state?.from ?? \"/\"}\n  if (prevLocation.state.from.search !== '') { backLinkHref =  prevLocation.state?.from ?? \"/movies\"}\n  \n  \n  function ParamId() {\n    const movieId = useParams();\n    //console.log(movieId)\n    return movieId.id\n  }\n  let movieId = ParamId()\n  \n  useEffect(() => { \n    axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=THE_KEY&language=en-US&append_to_response=credits`)\n      .then(response => {\n        const data = response.data\n        //console.log(data)\n        setMovie(data)\n        setGenres(data.genres)\n      })\n      .catch(e => { \n        console.log(e)\n      })\n    count=0\n  }, [movieId])\n  \n  function handleGenres() {\n    let genre = []\n    genres.forEach(gen => { genre.push(gen.name)})\n    //console.log(genre)\n    return genre.join(', ')\n  }\n  \n    \n\n return (\n   <div className={ styles.moviesContainer}>\n     <Link to={backLinkHref}>\n       <button >Go back</button>\n     </Link>\n     \n      <div className={styles.divide}>\n      <img src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`} alt={`${movie.title} movie`} />\n      <div>\n          <h1>{movie.title }</h1>\n          <h2>Overview</h2>\n          <p>{movie.overview }</p>\n          <h2>Genres</h2>\n          <p>{handleGenres()}</p>\n     </div>\n     </div>\n     <ul className={styles.information }>Aditional Information\n       <li>\n         <Link to=\"cast\">Cast</Link>\n       </li>\n       <li>\n        <Link to=\"reviews\">Reviews</Link>\n       </li>\n     </ul>\n    <Outlet />  \n  </div>\n )\n}\n\n"],"names":["prevLocation","count","MoviesDetails","axios","backLinkHref","_prevLocation$state$f","_prevLocation$state","_prevLocation$state$f2","_prevLocation$state2","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","genres","setGenres","location","useLocation","state","from","pathname","search","movieId","useParams","id","useEffect","concat","then","response","data","catch","e","console","log","_jsxs","className","styles","children","_jsx","Link","to","src","poster_path","alt","title","overview","genre","forEach","gen","push","name","join","handleGenres","Outlet"],"sourceRoot":""}